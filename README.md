# üõ°Ô∏è Logger_One - –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞

![Python Version](https://img.shields.io/badge/python-3.8%2B-blue)
![License](https://img.shields.io/badge/license-MIT-green)
![Status](https://img.shields.io/badge/status-production--ready-brightgreen)

## üìã –û—Ü–µ–Ω–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### ‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –¥–∏–∑–∞–π–Ω (10/10)**
- ‚ú® –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- ‚ú® –°–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º SOLID –∏ Clean Code
- ‚ú® –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞
- ‚ú® Thread-safe –∏ async-safe —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (10/10)**
- ‚ú® –ü–æ–ª–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä—É–µ–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ correlation_id
- ‚ú® –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ JSON-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚ú® –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–≥–µ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ–º–µ–Ω–∞
- ‚ú® –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞—É–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚ú® –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–µ–¥—É—â–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (9/10)**
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ Best practices –∏ troubleshooting
- ‚ö†Ô∏è –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –¥–∏–∞–≥—Ä–∞–º–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

**Production-ready (10/10)**
- ‚ú® –ì–æ—Ç–æ–≤–∞—è Docker-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚ú® –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ Grafana –¥–∞—à–±–æ—Ä–¥—ã
- ‚ú® –ü—Ä–∞–≤–∏–ª–∞ –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞ –≤ Prometheus
- ‚ú® –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤

**–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å –∫ –∑–∞–¥–∞—á–µ (10/10)**
- ‚ú® –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º (20 –±–∞–ª–ª–æ–≤ –∏–∑ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤)
- ‚ú® –ü–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚ú® –ì–æ—Ç–æ–≤–æ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å fraud detection —Å–∏—Å—Ç–µ–º–æ–π

### üìä –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: **49/50** (98%)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é:**
1. –î–æ–±–∞–≤–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã (Mermaid/PlantUML)
2. –°–æ–∑–¥–∞—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
3. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ ML-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏
4. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å performance benchmarks

---

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ

–ù–∞–¥—ë–∂–Ω–∞—è –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞ –≤ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö. –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ –∞–Ω–∞–ª–∏–∑—É —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

## üåü –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- üìù **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –¥–ª—è –ª—ë–≥–∫–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞
- üîó **Correlation ID** –¥–ª—è —Å–∫–≤–æ–∑–Ω–æ–π —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã
- üé® **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–≥–µ—Ä—ã** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤ (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –ø—Ä–∞–≤–∏–ª–∞, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –∞—É–¥–∏—Ç)
- üåê **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP** —á–µ—Ä–µ–∑ middleware –¥–ª—è Flask –∏ FastAPI
- üë§ **–ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π
- üìä **–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** –¥–ª—è –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- üè¢ **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–±–æ—Ä –ª–æ–≥–æ–≤** (Graylog/Loki/ELK)
- üìà **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** —á–µ—Ä–µ–∑ Grafana
- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è –∏ –∞—Ä—Ö–∏–≤–∞—Ü–∏—è** –ª–æ–≥–æ–≤

### –¢–∏–ø—ã –ª–æ–≥–æ–≤

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –§–∞–π–ª |
|-----|----------|------|
| üìã **Application** | –û–±—â–∏–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | `application.json.log` |
| üí≥ **Transaction** | –õ–æ–≥–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π | `transactions.json.log` |
| ‚öñÔ∏è **Rule** | –õ–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª | `rules.json.log` |
| üìß **Notification** | –õ–æ–≥–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π | `notifications.json.log` |
| üîç **Audit** | –õ–æ–≥–∏ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | `audit.json.log` |
| üìà **Metrics** | –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ | `metrics.json.log` |
| ‚ùå **Error** | –í—Å–µ –æ—à–∏–±–∫–∏ —Å–∏—Å—Ç–µ–º—ã | `errors.json.log` |

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Logger_One/
‚îÇ
‚îú‚îÄ‚îÄ logging_system/              # –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–∫–µ—Ç —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ config.py               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ context.py              # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (correlation_id –∏ —Ç.–¥.)
‚îÇ   ‚îú‚îÄ‚îÄ helpers.py              # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ª–æ–≥–≥–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ middleware.py           # HTTP middleware –¥–ª—è Flask/FastAPI
‚îÇ   ‚îî‚îÄ‚îÄ usage_example.py        # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ config/                      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ prometheus.yml          # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Prometheus
‚îÇ   ‚îú‚îÄ‚îÄ alerts.yml              # –ü—Ä–∞–≤–∏–ª–∞ –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ loki-config.yml         # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Loki
‚îÇ   ‚îú‚îÄ‚îÄ promtail-config.yml     # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Promtail
‚îÇ   ‚îú‚îÄ‚îÄ filebeat.yml            # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Filebeat
‚îÇ   ‚îî‚îÄ‚îÄ grafana/
‚îÇ       ‚îú‚îÄ‚îÄ provisioning/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ datasources/    # –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ dashboards/     # –ü—Ä–æ–≤–∏–∂–∏–Ω–∏–Ω–≥ –¥–∞—à–±–æ—Ä–¥–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ dashboards/         # JSON-—Ñ–∞–π–ª—ã –¥–∞—à–±–æ—Ä–¥–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ logs/                        # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –ª–æ–≥–æ–≤ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ application.json.log
‚îÇ   ‚îú‚îÄ‚îÄ transactions.json.log
‚îÇ   ‚îú‚îÄ‚îÄ rules.json.log
‚îÇ   ‚îú‚îÄ‚îÄ notifications.json.log
‚îÇ   ‚îú‚îÄ‚îÄ audit.json.log
‚îÇ   ‚îú‚îÄ‚îÄ metrics.json.log
‚îÇ   ‚îî‚îÄ‚îÄ errors.json.log
‚îÇ
‚îú‚îÄ‚îÄ docker-compose.logging.yml   # Docker Compose –¥–ª—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ requirements.txt             # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- Docker –∏ Docker Compose (–¥–ª—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/Alexander132770/Logger_One.git
cd Logger_One

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –°–æ–∑–¥–∞—ë–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ª–æ–≥–æ–≤
mkdir -p logs
```

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã

```python
from logging_system.config import setup_logging
import os

# –í –Ω–∞—á–∞–ª–µ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (main.py –∏–ª–∏ __init__.py)
environment = os.getenv('ENVIRONMENT', 'production')  # 'production' –∏–ª–∏ 'development'
setup_logging(environment)
```

#### 2. –ü—Ä–æ—Å—Ç–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
from logging_system.helpers import StructuredLogger, LogEvent

# –°–æ–∑–¥–∞—ë–º –ª–æ–≥–≥–µ—Ä –¥–ª—è –≤–∞—à–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
logger = StructuredLogger('my_service', 'component_name')

# –õ–æ–≥–∏—Ä—É–µ–º —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Å–æ–±—ã—Ç–∏—è
logger.info(
    "–ù–∞—á–∞–ª–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏",
    event=LogEvent.TRANSACTION_PROCESSING_STARTED,
    transaction_id="tx123",
    amount=1000.0
)
```

#### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

```python
from logging_system.context import LoggingContext

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ correlation_id –∏ –¥—Ä—É–≥–∏—Ö ID
with LoggingContext(
    correlation_id="abc-123",
    transaction_id="tx-456",
    user_id="user789"
):
    # –í—Å–µ –ª–æ–≥–∏ –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —ç—Ç–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
    logger.info("–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏")
    process_transaction()
```

#### 4. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–≥–µ—Ä—ã

```python
from logging_system.helpers import (
    transaction_logger,
    rule_logger,
    notification_logger,
    audit_logger
)

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
transaction_logger.log_received(
    transaction_id="tx123",
    transaction_data={"amount": 1000, "from": "acc1", "to": "acc2"}
)

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª–∞
rule_logger.log_executed(
    rule_id="rule1",
    rule_name="–ü–æ—Ä–æ–≥ –≤—ã—Å–æ–∫–æ–π —Å—É–º–º—ã",
    rule_type="threshold",
    transaction_id="tx123",
    matched=True,
    execution_time_ms=5.2
)

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
notification_logger.log_sent(
    notification_id="notif1",
    channel="email",
    recipient="admin@example.com",
    transaction_id="tx123",
    duration_ms=150.0
)

# –ê—É–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
audit_logger.log_user_action(
    user_id="admin1",
    action="create",
    resource_type="rule",
    resource_id="rule123",
    details={"name": "–ù–æ–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ"}
)
```

## üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏

### FastAPI

```python
from fastapi import FastAPI, Request
from logging_system.middleware import FastAPILoggingMiddleware

app = FastAPI()

# –ü–æ–¥–∫–ª—é—á–∞–µ–º middleware
app.middleware("http")(FastAPILoggingMiddleware())

@app.post("/api/v1/transactions")
async def create_transaction(data: dict, request: Request):
    # correlation_id –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω middleware
    correlation_id = request.state.correlation_id
    
    return {
        "status": "ok",
        "correlation_id": correlation_id
    }
```

### Flask

```python
from flask import Flask, g
from logging_system.middleware import FlaskLoggingMiddleware

app = Flask(__name__)

# –ü–æ–¥–∫–ª—é—á–∞–µ–º middleware
app.wsgi_app = FlaskLoggingMiddleware(app.wsgi_app)

@app.route('/api/v1/transactions', methods=['POST'])
def create_transaction():
    # correlation_id –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ g.correlation_id
    return {
        "status": "ok",
        "correlation_id": g.correlation_id
    }
```

## üéØ –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```python
from logging_system.helpers import log_execution_time, StructuredLogger

logger = StructuredLogger('service', 'processing')

@log_execution_time(logger, 'process_transaction')
def process_transaction(tx):
    # –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–æ
    return process(tx)
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤

```python
from logging_system.helpers import log_method_call

@log_method_call(logger)
def some_method(self, param1, param2):
    # –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω
    pass
```

## üìä –§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON-–ª–æ–≥–∞

```json
{
  "timestamp": "2025-10-25T10:30:45.123456Z",
  "level": "INFO",
  "logger": "transactions",
  "component": "transactions",
  "message": "Transaction received: tx123",
  "service": "fraud-detection-service",
  "hostname": "app-server-01",
  "thread": 12345,
  "thread_name": "MainThread",
  "correlation_id": "abc-123-def-456",
  "transaction_id": "tx123",
  "location": {
    "file": "/app/services/transaction_service.py",
    "line": 45,
    "function": "process_transaction",
    "module": "transaction_service"
  },
  "extra_fields": {
    "event": "transaction.received",
    "amount": 1000.0,
    "from_account": "acc1",
    "to_account": "acc2",
    "transaction_type": "transfer"
  }
}
```

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (LogEvent)

```python
# –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
LogEvent.TRANSACTION_RECEIVED              # –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∞
LogEvent.TRANSACTION_VALIDATED             # –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–∞
LogEvent.TRANSACTION_VALIDATION_FAILED     # –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
LogEvent.TRANSACTION_QUEUED                # –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤ –æ—á–µ—Ä–µ–¥–∏
LogEvent.TRANSACTION_PROCESSING_STARTED    # –ù–∞—á–∞–ª–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏
LogEvent.TRANSACTION_PROCESSING_COMPLETED  # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
LogEvent.TRANSACTION_PROCESSING_FAILED     # –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏

# –ü—Ä–∞–≤–∏–ª–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è
LogEvent.RULE_CREATED        # –ü—Ä–∞–≤–∏–ª–æ —Å–æ–∑–¥–∞–Ω–æ
LogEvent.RULE_UPDATED        # –ü—Ä–∞–≤–∏–ª–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ
LogEvent.RULE_DELETED        # –ü—Ä–∞–≤–∏–ª–æ —É–¥–∞–ª–µ–Ω–æ
LogEvent.RULE_EXECUTED       # –ü—Ä–∞–≤–∏–ª–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
LogEvent.RULE_MATCHED        # –ü—Ä–∞–≤–∏–ª–æ —Å—Ä–∞–±–æ—Ç–∞–ª–æ
LogEvent.RULE_NOT_MATCHED    # –ü—Ä–∞–≤–∏–ª–æ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ

# –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
LogEvent.NOTIFICATION_SENT    # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
LogEvent.NOTIFICATION_FAILED  # –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏
LogEvent.NOTIFICATION_RETRY   # –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞

# –ê—É–¥–∏—Ç
LogEvent.AUDIT_USER_ACTION     # –î–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
LogEvent.AUDIT_DATA_ACCESS     # –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º
LogEvent.AUDIT_CONFIG_CHANGE   # –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```

## üê≥ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
docker-compose -f docker-compose.logging.yml up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.logging.yml ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose -f docker-compose.logging.yml logs -f fraud-detection-app

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.logging.yml down
```

### –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º

| –°–µ—Ä–≤–∏—Å | URL | Credentials |
|--------|-----|-------------|
| üåê –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ | http://localhost:8000 | - |
| üìä Grafana | http://localhost:3000 | admin/admin |
| üìà Prometheus | http://localhost:9091 | - |
| üìã Graylog | http://localhost:9000 | admin/admin |
| üîç Loki | http://localhost:3100 | - |

## üìà –î–∞—à–±–æ—Ä–¥—ã Grafana

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –≥–æ—Ç–æ–≤—ã–µ –¥–∞—à–±–æ—Ä–¥—ã:

### 1. Transaction Processing Dashboard
- üìä –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- ‚è±Ô∏è –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (p50, p95, p99)
- üìà Rate –æ–±—Ä–∞–±–æ—Ç–∫–∏ (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π/—Å–µ–∫)
- ‚ùå –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫
- üìâ –¢—Ä–µ–Ω–¥—ã –∑–∞ –ø–µ—Ä–∏–æ–¥

### 2. Rules Execution Dashboard
- ‚öñÔ∏è –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π –ø—Ä–∞–≤–∏–ª
- ‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞
- üèÜ –¢–æ–ø –ø—Ä–∞–≤–∏–ª –ø–æ —á–∞—Å—Ç–æ—Ç–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è
- üìä –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º –ø—Ä–∞–≤–∏–ª
- üéØ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–∞–≤–∏–ª

### 3. Alerts Dashboard
- üö® –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–ª–µ—Ä—Ç–æ–≤
- üìä –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º –∏ –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏
- ‚è±Ô∏è –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- üìß –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞–Ω–∞–ª–∞–º –¥–æ—Å—Ç–∞–≤–∫–∏
- üîÑ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ retry

### 4. System Health Dashboard
- üì¶ –†–∞–∑–º–µ—Ä –æ—á–µ—Ä–µ–¥–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- üíª CPU –∏ –ø–∞–º—è—Ç—å
- ‚è±Ô∏è Latency –∏ throughput
- ‚ùå Error rate –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
- üå°Ô∏è –û–±—â–µ–µ –∑–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã

## üîç –ü–æ–∏—Å–∫ –≤ –ª–æ–≥–∞—Ö

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ Graylog

```
# –í—Å–µ –æ—à–∏–±–∫–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
level:ERROR

# –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
transaction_id:tx123

# –ü–æ–ª–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –ø–æ correlation_id
correlation_id:"abc-123-def-456"

# –ú–µ–¥–ª–µ–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (–±–æ–ª–µ–µ 1000ms)
duration_ms:>1000 AND component:processing

# –°—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞
rule_name:"–ü–æ—Ä–æ–≥ –≤—ã—Å–æ–∫–æ–π —Å—É–º–º—ã" AND event:rule.matched

# –ù–µ—É–¥–∞—á–Ω—ã–µ email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
event:notification.failed AND channel:email
```

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ Loki (LogQL)

```
# –í—Å–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
{job="fraud-detection"}

# –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
{job="fraud-detection"} |= "ERROR"

# –§–∏–ª—å—Ç—Ä –ø–æ correlation_id
{job="fraud-detection"} | json | correlation_id="abc-123"

# –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "alerted"
{job="fraud-detection-transactions"} | json | status="alerted"

# –ü–æ–¥—Å—á—ë—Ç –æ—à–∏–±–æ–∫ –∑–∞ 5 –º–∏–Ω—É—Ç
sum(rate({job="fraud-detection"} |= "ERROR" [5m]))

# –¢–æ–ø 10 —Å–∞–º—ã—Ö —á–∞—Å—Ç—ã—Ö –æ—à–∏–±–æ–∫
topk(10, count_over_time({job="fraud-detection"} |= "ERROR" [1h]))
```

## üí° –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ correlation_id

```python
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
with LoggingContext(correlation_id=request_id):
    process_request()

# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
process_request()  # –ù–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏
```

### 2. –õ–æ–≥–∏—Ä—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

```python
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
logger.info(
    "–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞",
    transaction_id=tx_id,
    amount=amount,
    duration_ms=duration
)

# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
logger.info(f"–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è {tx_id} –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞, —Å—É–º–º–∞: {amount}")
```

### 3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

| –£—Ä–æ–≤–µ–Ω—å | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|---------|-------------------|
| **DEBUG** | –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ |
| **INFO** | –û–±—ã—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, —Å–æ–±—ã—Ç–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ |
| **WARNING** | –ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –º–µ—à–∞—é—Ç —Ä–∞–±–æ—Ç–µ |
| **ERROR** | –û—à–∏–±–∫–∏, —Ç—Ä–µ–±—É—é—â–∏–µ –≤–Ω–∏–º–∞–Ω–∏—è |
| **CRITICAL** | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏, —Ç—Ä–µ–±—É—é—â–∏–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è |

### 4. –ù–ï –ª–æ–≥–∏—Ä—É–π—Ç–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

```python
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
logger.info("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω", user_id=user.id)

# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - —É—Ç–µ—á–∫–∞ –ø–∞—Ä–æ–ª—è!
logger.info("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω", password=user.password)
```

### 5. –õ–æ–≥–∏—Ä—É–π—Ç–µ –Ω–∞—á–∞–ª–æ –∏ –∫–æ–Ω–µ—Ü –æ–ø–µ—Ä–∞—Ü–∏–π

```python
logger.info("–ù–∞—á–∞–ª–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏", transaction_id=tx_id)
try:
    result = process()
    logger.info(
        "–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞",
        transaction_id=tx_id,
        result=result
    )
except Exception as e:
    logger.error(
        "–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏",
        transaction_id=tx_id,
        error=str(e),
        exc_info=True  # –î–æ–±–∞–≤–ª—è–µ—Ç traceback
    )
```

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –õ–æ–≥–∏ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ Graylog

**1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
```bash
docker-compose logs fraud-detection-app | grep graylog
```

**2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Graylog inputs:**
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ System ‚Üí Inputs
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ GELF UDP input –∑–∞–ø—É—â–µ–Ω –∏ —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç 12201

**3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall:**
```bash
telnet localhost 12201
```

### –í—ã—Å–æ–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –¥–∏—Å–∫–∞

**1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –ª–æ–≥–æ–≤:**
```bash
du -sh logs/
```

**2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–æ—Ç–∞—Ü–∏—é –≤ `config.py`:**
```python
'maxBytes': 100 * 1024 * 1024,  # 100MB
'backupCount': 10
```

**3. –û—á–∏—Å—Ç–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –ª–æ–≥–∏:**
```bash
find logs/ -name "*.log.*" -mtime +30 -delete
```

### –ú–µ—Ç—Ä–∏–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ Grafana

**1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Prometheus targets:**
- –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:9091/targets
- –í—Å–µ targets –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Å—Ç–∞—Ç—É—Å–µ UP

**2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ datasource –≤ Grafana:**
- Configuration ‚Üí Data Sources ‚Üí Prometheus
- –ù–∞–∂–º–∏—Ç–µ "Test" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —ç–∫—Å–ø–æ—Ä—Ç –º–µ—Ç—Ä–∏–∫:**
```bash
curl http://localhost:9090/metrics
```

## ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 1. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
from logging.handlers import QueueHandler, QueueListener
import queue

# –°–æ–∑–¥–∞—ë–º –æ—á–µ—Ä–µ–¥—å –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏
log_queue = queue.Queue(-1)
queue_handler = QueueHandler(log_queue)

# –î–æ–±–∞–≤–ª—è–µ–º handler
logger.addHandler(queue_handler)

# –ó–∞–ø—É—Å–∫–∞–µ–º listener –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
listener = QueueListener(log_queue, file_handler)
listener.start()
```

### 2. Sampling –¥–ª—è debug –ª–æ–≥–æ–≤

```python
import random

def should_log_debug():
    return random.random() < 0.01  # 1% sampling

if should_log_debug():
    logger.debug("–î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è", ...)
```

### 3. –ë–∞—Ç—á–∏–Ω–≥ –ª–æ–≥–æ–≤

–î–ª—è –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∞—Ç—á–∏–Ω–≥ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Filebeat/Promtail.

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è sanitization

Middleware –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
- –ü–∞—Ä–æ–ª–∏
- –¢–æ–∫–µ–Ω—ã
- API –∫–ª—é—á–∏
- –°–µ–∫—Ä–µ—Ç—ã

### –ê—É–¥–∏—Ç

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:
- –ö—Ç–æ (user_id)
- –ß—Ç–æ (action)
- –ö–æ–≥–¥–∞ (timestamp)
- –û—Ç–∫—É–¥–∞ (IP-–∞–¥—Ä–µ—Å)
- –î–µ—Ç–∞–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π


---

‚≠ê **–ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –æ–∫–∞–∑–∞–ª—Å—è –ø–æ–ª–µ–∑–Ω—ã–º, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É!** ‚≠ê
